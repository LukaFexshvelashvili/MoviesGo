<?php
include_once "../server/connection.php";
include_once "../components/card.php";
include_once "../components/card_wide.php";

$sql = "
(SELECT id, genres, description, poster_url, thumbnail_url, subtitle, name, name_eng, imdb, type, year, country, creator FROM movies WHERE type = 0 ORDER BY id DESC LIMIT 10)
UNION ALL
(SELECT id, genres, description, poster_url, thumbnail_url, subtitle, name, name_eng, imdb, type, year, country, creator FROM movies WHERE type = 1 ORDER BY id DESC LIMIT 10)
UNION ALL
(SELECT id, genres, description, poster_url, thumbnail_url, subtitle, name, name_eng, imdb, type, year, country, creator FROM movies WHERE type = 2 ORDER BY id DESC LIMIT 10)
UNION ALL
(SELECT id, genres, description, poster_url, thumbnail_url, subtitle, name, name_eng, imdb, type, year, country, creator FROM movies WHERE type = 3 ORDER BY id DESC LIMIT 10);
";

$movies_fetch = mysqli_query($conn, $sql);
$movies_list = mysqli_fetch_all($movies_fetch, MYSQLI_ASSOC);
$movies_by_type = [];

foreach ($movies_list as $movie) {
    switch ($movie['type']) {
        case 0:
            $movies_by_type["movies"][] = $movie;
            break;
        case 1:
            $movies_by_type["series"][] = $movie;
            break;
        case 2:
            $movies_by_type["animations"][] = $movie;
            break;
        case 3:
            $movies_by_type["animes"][] = $movie;
            break;
       
    }
}



if (isset($_SESSION['watch_history']) && !empty($_SESSION['watch_history'])) {
    $watch_history = $_SESSION['watch_history'];
    $placeholders = implode(',', array_fill(0, count($watch_history), '?'));
    $sql = "SELECT id, genres, description, poster_url, thumbnail_url, subtitle, name, name_eng, imdb, type, year, country, creator FROM movies WHERE id IN ($placeholders) 
        ORDER BY FIELD(id, " . implode(',', array_fill(0, count($watch_history), '?')) . ")";
    $stmt_movies = $conn->prepare($sql);
    $types = str_repeat('i', count($watch_history) * 2);
    $params = array_merge($watch_history, $watch_history);
    $stmt_movies->bind_param($types, ...$params);
    $stmt_movies->execute();
    $watch_history = $stmt_movies->get_result();
}

?>


<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>MoviesGo</title>

    <link rel="stylesheet" href="../assets/css/components/colors.css" />
    <link rel="stylesheet" href="../assets/css/main.css" />
    <link rel="stylesheet" href="../assets/css/pages/home/home.css" />
    <link rel="stylesheet" href="../assets/css/components/nav.css" />
    <link rel="stylesheet" href="../assets/css/components/card.css" />
    <link rel="stylesheet" href="../assets/css/components/mg_cardslider.css" />
    <link rel="stylesheet" href="../assets/css/components/mg_slider.css" />
</head>

<body class="bg-bodybg">

    <?php include_once "../components/nav.php" ?>

    <!-- & MAIN SLIDER -->
    <?php include_once "../components/mg_slider.php" ?>
    <script type="module" src="../assets/engines/mg_slider.js"></script>

    <!-- & CARD SLIDERS -->
    <div class="container">
        <?php
        if (isset($watch_history)) {
        ?>
        <div class="mg_cardslider">
            <div class="mg_cardslider_info">
                <div class="mg_cardslider_start">
                    <div class="cnt">
                        <svg height="20" width="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M12 2C9.43639 2.00731 6.97349 2.99891 5.12 4.77V3C5.12 2.73478 5.01464 2.48043 4.82711 2.29289C4.63957 2.10536 4.38522 2 4.12 2C3.85478 2 3.60043 2.10536 3.41289 2.29289C3.22536 2.48043 3.12 2.73478 3.12 3V7.5C3.12 7.76522 3.22536 8.01957 3.41289 8.20711C3.60043 8.39464 3.85478 8.5 4.12 8.5H8.62C8.88522 8.5 9.13957 8.39464 9.32711 8.20711C9.51464 8.01957 9.62 7.76522 9.62 7.5C9.62 7.23478 9.51464 6.98043 9.32711 6.79289C9.13957 6.60536 8.88522 6.5 8.62 6.5H6.22C7.50578 5.15636 9.21951 4.30266 11.0665 4.08567C12.9136 3.86868 14.7785 4.30198 16.3407 5.31105C17.9028 6.32012 19.0646 7.84191 19.6263 9.61479C20.188 11.3877 20.1145 13.3009 19.4184 15.0254C18.7223 16.7499 17.4472 18.1781 15.8122 19.0643C14.1772 19.9505 12.2845 20.2394 10.4596 19.8813C8.63463 19.5232 6.99147 18.5405 5.81259 17.1022C4.63372 15.6638 3.99279 13.8597 4 12C4 11.7348 3.89464 11.4804 3.70711 11.2929C3.51957 11.1054 3.26522 11 3 11C2.73478 11 2.48043 11.1054 2.29289 11.2929C2.10536 11.4804 2 11.7348 2 12C2 13.9778 2.58649 15.9112 3.6853 17.5557C4.78412 19.2002 6.3459 20.4819 8.17317 21.2388C10.0004 21.9957 12.0111 22.1937 13.9509 21.8079C15.8907 21.422 17.6725 20.4696 19.0711 19.0711C20.4696 17.6725 21.422 15.8907 21.8079 13.9509C22.1937 12.0111 21.9957 10.0004 21.2388 8.17317C20.4819 6.3459 19.2002 4.78412 17.5557 3.6853C15.9112 2.58649 13.9778 2 12 2ZM12 8C11.7348 8 11.4804 8.10536 11.2929 8.29289C11.1054 8.48043 11 8.73478 11 9V12C11 12.2652 11.1054 12.5196 11.2929 12.7071C11.4804 12.8946 11.7348 13 12 13H14C14.2652 13 14.5196 12.8946 14.7071 12.7071C14.8946 12.5196 15 12.2652 15 12C15 11.7348 14.8946 11.4804 14.7071 11.2929C14.5196 11.1054 14.2652 11 14 11H13V9C13 8.73478 12.8946 8.48043 12.7071 8.29289C12.5196 8.10536 12.2652 8 12 8Z"
                                fill="white"></path>
                        </svg>
                    </div>
                    განაგრძე ყურება
                </div>
                <div class="mg_cardslider_end">
                    <div class="mg_cardslider_button cnt mg_cardslider_left">
                        <svg width="9" height="16" viewBox="0 0 9 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M0.379685 8.62033L6.79762 15.0383C6.9173 15.158 7.05938 15.2529 7.21575 15.3177C7.37212 15.3824 7.53972 15.4158 7.70897 15.4158C8.05079 15.4158 8.37861 15.28 8.62032 15.0383C8.74 14.9186 8.83493 14.7765 8.8997 14.6201C8.96447 14.4638 8.99781 14.2962 8.99781 14.1269C8.99781 13.7851 8.86202 13.4573 8.62032 13.2156L3.10089 7.70899L8.62032 2.20239C8.74063 2.08306 8.83612 1.9411 8.90128 1.78468C8.96645 1.62826 9 1.46049 9 1.29104C9 1.12159 8.96645 0.953821 8.90128 0.797404C8.83612 0.640987 8.74063 0.499022 8.62032 0.379696C8.50099 0.259387 8.35902 0.163893 8.20261 0.0987262C8.04619 0.0335607 7.87842 1.14093e-05 7.70897 1.14093e-05C7.53952 1.14093e-05 7.37175 0.0335607 7.21533 0.0987262C7.05891 0.163893 6.91695 0.259387 6.79762 0.379696L0.379685 6.79764C0.259376 6.91697 0.163882 7.05893 0.0987154 7.21535C0.0335498 7.37177 5.36442e-07 7.53954 5.36442e-07 7.70899C5.36442e-07 7.87844 0.0335498 8.04621 0.0987154 8.20262C0.163882 8.35904 0.259376 8.50101 0.379685 8.62033Z"
                                fill="var(--main)" />
                        </svg>
                    </div>
                    <div class="mg_cardslider_button cnt mg_cardslider_right">
                        <svg width="9" height="16" viewBox="0 0 9 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M8.62032 6.79544L2.20238 0.377493C2.0827 0.257813 1.94062 0.162878 1.78425 0.0981076C1.62788 0.0333372 1.46028 0 1.29103 0C0.94921 0 0.621387 0.135788 0.379683 0.377493C0.260003 0.497173 0.165067 0.639254 0.100297 0.795623C0.0355269 0.951992 0.00219149 1.11959 0.00219149 1.28884C0.00219149 1.63066 0.137979 1.95848 0.379683 2.20019L5.89911 7.70679L0.379683 13.2134C0.259374 13.3327 0.163883 13.4747 0.0987171 13.6311C0.033551 13.7875 0 13.9553 0 14.1247C0 14.2942 0.033551 14.462 0.0987171 14.6184C0.163883 14.7748 0.259374 14.9167 0.379683 15.0361C0.499009 15.1564 0.640976 15.2519 0.797393 15.317C0.95381 15.3822 1.12158 15.4158 1.29103 15.4158C1.46048 15.4158 1.62825 15.3822 1.78467 15.317C1.94109 15.2519 2.08305 15.1564 2.20238 15.0361L8.62032 8.61813C8.74062 8.49881 8.83612 8.35684 8.90129 8.20042C8.96645 8.04401 9 7.87623 9 7.70679C9 7.53734 8.96645 7.36956 8.90129 7.21315C8.83612 7.05673 8.74062 6.91476 8.62032 6.79544Z"
                                fill="var(--main)" />
                        </svg>
                    </div>
                </div>
            </div>
            <div class="mg_cardslider_row">
                <?php
                    while ($data = mysqli_fetch_assoc($watch_history)) {
                        echo card($data, $image_starter);
                    }
                    ?>
            </div>
        </div>
        <?php
        }
        ?>


        <!-- სიახლე -->
        <div class="mg_cardslider_wide">
            <div class="mg_cardslider_info">
                <div class="mg_cardslider_start">
                    <div class="cnt">
                        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_4_225)">
                                <path
                                    d="M16.8211 11.1097L15.2668 9.72546C14.8168 9.32496 14.8168 8.66886 15.2668 8.26836L16.8211 6.88326C17.2711 6.48276 17.1514 6.11016 16.5547 6.05166L14.4937 5.85636C13.8979 5.80056 13.5757 5.28666 13.7818 4.71696L14.8753 1.67226C15.0805 1.10076 14.8294 0.893757 14.3182 1.20966L11.8873 2.71266C11.7669 2.7881 11.6323 2.83812 11.4919 2.85965C11.3514 2.88118 11.208 2.87377 11.0706 2.83786C10.9331 2.80195 10.8044 2.73831 10.6924 2.65085C10.5804 2.56338 10.4875 2.45395 10.4194 2.32926L9.53918 0.757857C9.24308 0.228657 8.75438 0.226857 8.45288 0.750657L7.63478 2.17266C7.33148 2.69916 6.63758 2.92236 6.09308 2.67306L4.65308 2.01246C4.10588 1.76046 3.68738 2.05026 3.71978 2.65686L3.79718 4.11036C3.83048 4.71696 3.38228 5.34066 2.80358 5.49726L1.41308 5.86986C0.835281 6.02646 0.729081 6.48186 1.17908 6.88236L2.73338 8.26746C3.18338 8.66796 3.18338 9.32406 2.73338 9.72456L1.17908 11.1097C0.729081 11.5102 0.847881 11.899 1.44278 11.971L3.32828 12.1996C3.92318 12.2716 4.25438 12.8026 4.06448 13.3795L3.09788 16.3117C2.90798 16.8886 3.17888 17.1118 3.69908 16.8112L5.91578 15.5278C6.17439 15.3846 6.47707 15.3428 6.76477 15.4107C7.05248 15.4786 7.30457 15.6512 7.47188 15.895L8.39168 17.2801C8.72648 17.7832 9.22958 17.7562 9.50768 17.2189L10.3168 15.6592C10.4515 15.4004 10.6819 15.2045 10.959 15.1132C11.2361 15.0219 11.5378 15.0424 11.8 15.1705L13.3606 15.9508C13.8988 16.2181 14.3119 15.9418 14.2795 15.337L14.2012 13.8817C14.1697 13.2751 14.6161 12.6532 15.1966 12.4966L16.5853 12.1222C17.1649 11.9656 17.2711 11.5102 16.8211 11.1097ZM9.90008 12.6001H8.10008V10.8001H9.90008V12.6001ZM9.90008 9.90006H8.10008V5.40006H9.90008V9.90006Z"
                                    fill="white" />
                            </g>
                            <defs>
                                <clipPath id="clip0_4_225">
                                    <rect width="18" height="18" fill="white" />
                                </clipPath>
                            </defs>
                        </svg>
                    </div>
                    ახალი
                </div>
                <div class="mg_cardslider_end">
                    <div class="mg_cardslider_button cnt mg_cardslider_left">
                        <svg width="9" height="16" viewBox="0 0 9 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M0.379685 8.62033L6.79762 15.0383C6.9173 15.158 7.05938 15.2529 7.21575 15.3177C7.37212 15.3824 7.53972 15.4158 7.70897 15.4158C8.05079 15.4158 8.37861 15.28 8.62032 15.0383C8.74 14.9186 8.83493 14.7765 8.8997 14.6201C8.96447 14.4638 8.99781 14.2962 8.99781 14.1269C8.99781 13.7851 8.86202 13.4573 8.62032 13.2156L3.10089 7.70899L8.62032 2.20239C8.74063 2.08306 8.83612 1.9411 8.90128 1.78468C8.96645 1.62826 9 1.46049 9 1.29104C9 1.12159 8.96645 0.953821 8.90128 0.797404C8.83612 0.640987 8.74063 0.499022 8.62032 0.379696C8.50099 0.259387 8.35902 0.163893 8.20261 0.0987262C8.04619 0.0335607 7.87842 1.14093e-05 7.70897 1.14093e-05C7.53952 1.14093e-05 7.37175 0.0335607 7.21533 0.0987262C7.05891 0.163893 6.91695 0.259387 6.79762 0.379696L0.379685 6.79764C0.259376 6.91697 0.163882 7.05893 0.0987154 7.21535C0.0335498 7.37177 5.36442e-07 7.53954 5.36442e-07 7.70899C5.36442e-07 7.87844 0.0335498 8.04621 0.0987154 8.20262C0.163882 8.35904 0.259376 8.50101 0.379685 8.62033Z"
                                fill="var(--main)" />
                        </svg>
                    </div>
                    <div class="mg_cardslider_button cnt mg_cardslider_right">
                        <svg width="9" height="16" viewBox="0 0 9 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M8.62032 6.79544L2.20238 0.377493C2.0827 0.257813 1.94062 0.162878 1.78425 0.0981076C1.62788 0.0333372 1.46028 0 1.29103 0C0.94921 0 0.621387 0.135788 0.379683 0.377493C0.260003 0.497173 0.165067 0.639254 0.100297 0.795623C0.0355269 0.951992 0.00219149 1.11959 0.00219149 1.28884C0.00219149 1.63066 0.137979 1.95848 0.379683 2.20019L5.89911 7.70679L0.379683 13.2134C0.259374 13.3327 0.163883 13.4747 0.0987171 13.6311C0.033551 13.7875 0 13.9553 0 14.1247C0 14.2942 0.033551 14.462 0.0987171 14.6184C0.163883 14.7748 0.259374 14.9167 0.379683 15.0361C0.499009 15.1564 0.640976 15.2519 0.797393 15.317C0.95381 15.3822 1.12158 15.4158 1.29103 15.4158C1.46048 15.4158 1.62825 15.3822 1.78467 15.317C1.94109 15.2519 2.08305 15.1564 2.20238 15.0361L8.62032 8.61813C8.74062 8.49881 8.83612 8.35684 8.90129 8.20042C8.96645 8.04401 9 7.87623 9 7.70679C9 7.53734 8.96645 7.36956 8.90129 7.21315C8.83612 7.05673 8.74062 6.91476 8.62032 6.79544Z"
                                fill="var(--main)" />
                        </svg>
                    </div>
                </div>
            </div>
            <div class="mg_cardslider_row mg_cardslider_wide_row">
                <?php foreach ($movies_list as $data) {
                    echo card_wide($data, $image_starter);
                } ?>
            </div>
        </div>

        <!-- პოპულარული -->
        <div class="mg_cardslider">
            <div class="mg_cardslider_info">
                <div class="mg_cardslider_start">
                    <div class="cnt">
                        <svg width="20" height="20" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M6.75 14.25V9.75C6.75 9.55109 6.67098 9.36032 6.53033 9.21967C6.38968 9.07902 6.19891 9 6 9H3C2.80109 9 2.61032 9.07902 2.46967 9.21967C2.32902 9.36032 2.25 9.55109 2.25 9.75V14.25C2.25 14.4489 2.32902 14.6397 2.46967 14.7803C2.61032 14.921 2.80109 15 3 15M6.75 14.25C6.75 14.4489 6.67098 14.6397 6.53033 14.7803C6.38968 14.921 6.19891 15 6 15H3M6.75 14.25C6.75 14.4489 6.82902 14.6397 6.96967 14.7803C7.11032 14.921 7.30109 15 7.5 15H10.5C10.6989 15 10.8897 14.921 11.0303 14.7803C11.171 14.6397 11.25 14.4489 11.25 14.25M6.75 14.25V6.75C6.75 6.55109 6.82902 6.36032 6.96967 6.21967C7.11032 6.07902 7.30109 6 7.5 6H10.5C10.6989 6 10.8897 6.07902 11.0303 6.21967C11.171 6.36032 11.25 6.55109 11.25 6.75V14.25M3 15H13.5M11.25 14.25C11.25 14.4489 11.329 14.6397 11.4697 14.7803C11.6103 14.921 11.8011 15 12 15H15C15.1989 15 15.3897 14.921 15.5303 14.7803C15.671 14.6397 15.75 14.4489 15.75 14.25V3.75C15.75 3.55109 15.671 3.36032 15.5303 3.21967C15.3897 3.07902 15.1989 3 15 3H12C11.8011 3 11.6103 3.07902 11.4697 3.21967C11.329 3.36032 11.25 3.55109 11.25 3.75V14.25Z"
                                stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </div>
                    პოპულარული
                </div>
                <div class="mg_cardslider_end">
                    <div class="mg_cardslider_button cnt mg_cardslider_left">
                        <svg width="9" height="16" viewBox="0 0 9 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M0.379685 8.62033L6.79762 15.0383C6.9173 15.158 7.05938 15.2529 7.21575 15.3177C7.37212 15.3824 7.53972 15.4158 7.70897 15.4158C8.05079 15.4158 8.37861 15.28 8.62032 15.0383C8.74 14.9186 8.83493 14.7765 8.8997 14.6201C8.96447 14.4638 8.99781 14.2962 8.99781 14.1269C8.99781 13.7851 8.86202 13.4573 8.62032 13.2156L3.10089 7.70899L8.62032 2.20239C8.74063 2.08306 8.83612 1.9411 8.90128 1.78468C8.96645 1.62826 9 1.46049 9 1.29104C9 1.12159 8.96645 0.953821 8.90128 0.797404C8.83612 0.640987 8.74063 0.499022 8.62032 0.379696C8.50099 0.259387 8.35902 0.163893 8.20261 0.0987262C8.04619 0.0335607 7.87842 1.14093e-05 7.70897 1.14093e-05C7.53952 1.14093e-05 7.37175 0.0335607 7.21533 0.0987262C7.05891 0.163893 6.91695 0.259387 6.79762 0.379696L0.379685 6.79764C0.259376 6.91697 0.163882 7.05893 0.0987154 7.21535C0.0335498 7.37177 5.36442e-07 7.53954 5.36442e-07 7.70899C5.36442e-07 7.87844 0.0335498 8.04621 0.0987154 8.20262C0.163882 8.35904 0.259376 8.50101 0.379685 8.62033Z"
                                fill="var(--main)" />
                        </svg>
                    </div>
                    <div class="mg_cardslider_button cnt mg_cardslider_right">
                        <svg width="9" height="16" viewBox="0 0 9 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M8.62032 6.79544L2.20238 0.377493C2.0827 0.257813 1.94062 0.162878 1.78425 0.0981076C1.62788 0.0333372 1.46028 0 1.29103 0C0.94921 0 0.621387 0.135788 0.379683 0.377493C0.260003 0.497173 0.165067 0.639254 0.100297 0.795623C0.0355269 0.951992 0.00219149 1.11959 0.00219149 1.28884C0.00219149 1.63066 0.137979 1.95848 0.379683 2.20019L5.89911 7.70679L0.379683 13.2134C0.259374 13.3327 0.163883 13.4747 0.0987171 13.6311C0.033551 13.7875 0 13.9553 0 14.1247C0 14.2942 0.033551 14.462 0.0987171 14.6184C0.163883 14.7748 0.259374 14.9167 0.379683 15.0361C0.499009 15.1564 0.640976 15.2519 0.797393 15.317C0.95381 15.3822 1.12158 15.4158 1.29103 15.4158C1.46048 15.4158 1.62825 15.3822 1.78467 15.317C1.94109 15.2519 2.08305 15.1564 2.20238 15.0361L8.62032 8.61813C8.74062 8.49881 8.83612 8.35684 8.90129 8.20042C8.96645 8.04401 9 7.87623 9 7.70679C9 7.53734 8.96645 7.36956 8.90129 7.21315C8.83612 7.05673 8.74062 6.91476 8.62032 6.79544Z"
                                fill="var(--main)" />
                        </svg>
                    </div>
                </div>
            </div>
            <div class="mg_cardslider_row">
                <?php foreach ($movies_list as $data) {
                    echo card($data, $image_starter);
                } ?>
            </div>
        </div>
    </div>
    <div class="animes_row">
        <img src="../assets/images/animebg.jpg" class="decor_bg" />
        <div class="container">
            <div class="mg_cardslider">
                <div class="mg_cardslider_info">
                    <div class="mg_cardslider_start">
                        <div class="cnt">
                            <svg width="22" height="22" viewBox="0 0 20 20" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M16.8749 2.5H11.8749C11.7792 2.49999 11.6848 2.52196 11.5989 2.56423C11.513 2.60649 11.438 2.66791 11.3796 2.74375L6.3796 9.24453L5.62491 8.49141C5.50882 8.37519 5.37096 8.28299 5.21921 8.22008C5.06746 8.15718 4.9048 8.1248 4.74053 8.1248C4.57626 8.1248 4.41361 8.15718 4.26186 8.22008C4.11011 8.28299 3.97225 8.37519 3.85616 8.49141L2.86475 9.48359C2.74865 9.59967 2.65655 9.73748 2.59371 9.88916C2.53088 10.0408 2.49854 10.2034 2.49854 10.3676C2.49854 10.5318 2.53088 10.6943 2.59371 10.846C2.65655 10.9977 2.74865 11.1355 2.86475 11.2516L4.42725 12.8141L2.23975 15.0016C2.12365 15.1176 2.03155 15.2555 1.96871 15.4071C1.90588 15.5588 1.87354 15.7214 1.87354 15.8855C1.87354 16.0497 1.90588 16.2123 1.96871 16.364C2.03155 16.5156 2.12365 16.6535 2.23975 16.7695L3.23116 17.7602C3.46556 17.9944 3.78337 18.126 4.11475 18.126C4.44613 18.126 4.76395 17.9944 4.99835 17.7602L7.18585 15.5727L8.74835 17.1352C8.86444 17.2514 9.0023 17.3436 9.15405 17.4065C9.30579 17.4694 9.46845 17.5018 9.63272 17.5018C9.79699 17.5018 9.95965 17.4694 10.1114 17.4065C10.2631 17.3436 10.401 17.2514 10.5171 17.1352L11.5085 16.143C11.6246 16.0269 11.7167 15.8891 11.7795 15.7374C11.8424 15.5857 11.8747 15.4232 11.8747 15.259C11.8747 15.0948 11.8424 14.9322 11.7795 14.7806C11.7167 14.6289 11.6246 14.4911 11.5085 14.375L10.7554 13.6219L17.2562 8.62187C17.3322 8.56333 17.3938 8.48806 17.436 8.40189C17.4783 8.31572 17.5002 8.22098 17.4999 8.125V3.125C17.4999 2.95924 17.4341 2.80027 17.3169 2.68306C17.1996 2.56585 17.0407 2.5 16.8749 2.5ZM4.11632 16.875L3.12491 15.8844L5.31241 13.6969L6.30303 14.6875L4.11632 16.875ZM9.63272 16.25L3.74991 10.368L4.7421 9.375L10.6249 15.2586L9.63272 16.25ZM16.2499 7.81719L9.86397 12.7297L9.00928 11.875L12.9421 7.94219C13.0593 7.82491 13.1251 7.66589 13.125 7.50011C13.1249 7.33434 13.059 7.17537 12.9417 7.0582C12.8244 6.94103 12.6654 6.87525 12.4996 6.87532C12.3339 6.87539 12.1749 6.94132 12.0577 7.05859L8.12491 10.9906L7.271 10.1359L12.1827 3.75H16.2499V7.81719Z"
                                    fill="white" />
                            </svg>
                        </div>
                        ანიმეები
                    </div>
                    <div class="mg_cardslider_end">
                        <div class="mg_cardslider_button cnt mg_cardslider_left">
                            <svg width="9" height="16" viewBox="0 0 9 16" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M0.379685 8.62033L6.79762 15.0383C6.9173 15.158 7.05938 15.2529 7.21575 15.3177C7.37212 15.3824 7.53972 15.4158 7.70897 15.4158C8.05079 15.4158 8.37861 15.28 8.62032 15.0383C8.74 14.9186 8.83493 14.7765 8.8997 14.6201C8.96447 14.4638 8.99781 14.2962 8.99781 14.1269C8.99781 13.7851 8.86202 13.4573 8.62032 13.2156L3.10089 7.70899L8.62032 2.20239C8.74063 2.08306 8.83612 1.9411 8.90128 1.78468C8.96645 1.62826 9 1.46049 9 1.29104C9 1.12159 8.96645 0.953821 8.90128 0.797404C8.83612 0.640987 8.74063 0.499022 8.62032 0.379696C8.50099 0.259387 8.35902 0.163893 8.20261 0.0987262C8.04619 0.0335607 7.87842 1.14093e-05 7.70897 1.14093e-05C7.53952 1.14093e-05 7.37175 0.0335607 7.21533 0.0987262C7.05891 0.163893 6.91695 0.259387 6.79762 0.379696L0.379685 6.79764C0.259376 6.91697 0.163882 7.05893 0.0987154 7.21535C0.0335498 7.37177 5.36442e-07 7.53954 5.36442e-07 7.70899C5.36442e-07 7.87844 0.0335498 8.04621 0.0987154 8.20262C0.163882 8.35904 0.259376 8.50101 0.379685 8.62033Z"
                                    fill="var(--main)" />
                            </svg>
                        </div>
                        <div class="mg_cardslider_button cnt mg_cardslider_right">
                            <svg width="9" height="16" viewBox="0 0 9 16" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M8.62032 6.79544L2.20238 0.377493C2.0827 0.257813 1.94062 0.162878 1.78425 0.0981076C1.62788 0.0333372 1.46028 0 1.29103 0C0.94921 0 0.621387 0.135788 0.379683 0.377493C0.260003 0.497173 0.165067 0.639254 0.100297 0.795623C0.0355269 0.951992 0.00219149 1.11959 0.00219149 1.28884C0.00219149 1.63066 0.137979 1.95848 0.379683 2.20019L5.89911 7.70679L0.379683 13.2134C0.259374 13.3327 0.163883 13.4747 0.0987171 13.6311C0.033551 13.7875 0 13.9553 0 14.1247C0 14.2942 0.033551 14.462 0.0987171 14.6184C0.163883 14.7748 0.259374 14.9167 0.379683 15.0361C0.499009 15.1564 0.640976 15.2519 0.797393 15.317C0.95381 15.3822 1.12158 15.4158 1.29103 15.4158C1.46048 15.4158 1.62825 15.3822 1.78467 15.317C1.94109 15.2519 2.08305 15.1564 2.20238 15.0361L8.62032 8.61813C8.74062 8.49881 8.83612 8.35684 8.90129 8.20042C8.96645 8.04401 9 7.87623 9 7.70679C9 7.53734 8.96645 7.36956 8.90129 7.21315C8.83612 7.05673 8.74062 6.91476 8.62032 6.79544Z"
                                    fill="var(--main)" />
                            </svg>
                        </div>
                    </div>
                </div>
                <div class="mg_cardslider_row">
                    <?php
                         if(isset($movies_by_type['animes']) && !empty($movies_by_type['animes'])) {
                            foreach ($movies_by_type['animes'] as $data) {
                                echo card($data, $image_starter);
                            } 
                        } 
                ?>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="mg_cardslider">
            <div class="mg_cardslider_info">
                <div class="mg_cardslider_start">
                    <div class="cnt">
                        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_4_227)">
                                <path
                                    d="M14.2083 1.875H17.7917V14.3333C17.7917 14.8333 17.6181 15.2569 17.2708 15.6042C16.9236 15.9514 16.5 16.125 16 16.125H1.79167C1.29167 16.125 0.868055 15.9514 0.520833 15.6042C0.173611 15.2569 0 14.8333 0 14.3333V3.66667C0 3.16667 0.173611 2.74306 0.520833 2.39583C0.868055 2.04861 1.29167 1.875 1.79167 1.875H2.66667L4.45833 5.45833H7.125L5.33333 1.875H7.125L8.875 5.45833H11.5417L9.79167 1.875H11.5417L13.3333 5.45833H16L14.2083 1.875Z"
                                    fill="white" />
                            </g>
                            <defs>
                                <clipPath id="clip0_4_227">
                                    <rect width="18" height="18" fill="white" />
                                </clipPath>
                            </defs>
                        </svg>
                    </div>
                    ფილმები
                </div>
                <div class="mg_cardslider_end">
                    <div class="mg_cardslider_button cnt mg_cardslider_left">
                        <svg width="9" height="16" viewBox="0 0 9 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M0.379685 8.62033L6.79762 15.0383C6.9173 15.158 7.05938 15.2529 7.21575 15.3177C7.37212 15.3824 7.53972 15.4158 7.70897 15.4158C8.05079 15.4158 8.37861 15.28 8.62032 15.0383C8.74 14.9186 8.83493 14.7765 8.8997 14.6201C8.96447 14.4638 8.99781 14.2962 8.99781 14.1269C8.99781 13.7851 8.86202 13.4573 8.62032 13.2156L3.10089 7.70899L8.62032 2.20239C8.74063 2.08306 8.83612 1.9411 8.90128 1.78468C8.96645 1.62826 9 1.46049 9 1.29104C9 1.12159 8.96645 0.953821 8.90128 0.797404C8.83612 0.640987 8.74063 0.499022 8.62032 0.379696C8.50099 0.259387 8.35902 0.163893 8.20261 0.0987262C8.04619 0.0335607 7.87842 1.14093e-05 7.70897 1.14093e-05C7.53952 1.14093e-05 7.37175 0.0335607 7.21533 0.0987262C7.05891 0.163893 6.91695 0.259387 6.79762 0.379696L0.379685 6.79764C0.259376 6.91697 0.163882 7.05893 0.0987154 7.21535C0.0335498 7.37177 5.36442e-07 7.53954 5.36442e-07 7.70899C5.36442e-07 7.87844 0.0335498 8.04621 0.0987154 8.20262C0.163882 8.35904 0.259376 8.50101 0.379685 8.62033Z"
                                fill="var(--main)" />
                        </svg>
                    </div>
                    <div class="mg_cardslider_button cnt mg_cardslider_right">
                        <svg width="9" height="16" viewBox="0 0 9 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M8.62032 6.79544L2.20238 0.377493C2.0827 0.257813 1.94062 0.162878 1.78425 0.0981076C1.62788 0.0333372 1.46028 0 1.29103 0C0.94921 0 0.621387 0.135788 0.379683 0.377493C0.260003 0.497173 0.165067 0.639254 0.100297 0.795623C0.0355269 0.951992 0.00219149 1.11959 0.00219149 1.28884C0.00219149 1.63066 0.137979 1.95848 0.379683 2.20019L5.89911 7.70679L0.379683 13.2134C0.259374 13.3327 0.163883 13.4747 0.0987171 13.6311C0.033551 13.7875 0 13.9553 0 14.1247C0 14.2942 0.033551 14.462 0.0987171 14.6184C0.163883 14.7748 0.259374 14.9167 0.379683 15.0361C0.499009 15.1564 0.640976 15.2519 0.797393 15.317C0.95381 15.3822 1.12158 15.4158 1.29103 15.4158C1.46048 15.4158 1.62825 15.3822 1.78467 15.317C1.94109 15.2519 2.08305 15.1564 2.20238 15.0361L8.62032 8.61813C8.74062 8.49881 8.83612 8.35684 8.90129 8.20042C8.96645 8.04401 9 7.87623 9 7.70679C9 7.53734 8.96645 7.36956 8.90129 7.21315C8.83612 7.05673 8.74062 6.91476 8.62032 6.79544Z"
                                fill="var(--main)" />
                        </svg>
                    </div>
                </div>
            </div>
            <div class="mg_cardslider_row">
                <?php
                    if(isset($movies_by_type['movies']) && !empty($movies_by_type['movies'])) {
                        foreach ($movies_by_type['movies'] as $data) {
                            echo card($data, $image_starter);
                        } 
                    } 
                ?>
            </div>
        </div>
        <div class="mg_cardslider">
            <div class="mg_cardslider_info">
                <div class="mg_cardslider_start">
                    <div class="cnt">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16">
                            <g fill="currentColor">
                                <path
                                    d="m14.12 10.163l1.715.858c.22.11.22.424 0 .534L8.267 15.34a.598.598 0 0 1-.534 0L.165 11.555a.299.299 0 0 1 0-.534l1.716-.858l5.317 2.659c.505.252 1.1.252 1.604 0l5.317-2.66zM7.733.063a.598.598 0 0 1 .534 0l7.568 3.784a.3.3 0 0 1 0 .535L8.267 8.165a.598.598 0 0 1-.534 0L.165 4.382a.299.299 0 0 1 0-.535L7.733.063z" />
                                <path
                                    d="m14.12 6.576l1.715.858c.22.11.22.424 0 .534l-7.568 3.784a.598.598 0 0 1-.534 0L.165 7.968a.299.299 0 0 1 0-.534l1.716-.858l5.317 2.659c.505.252 1.1.252 1.604 0l5.317-2.659z" />
                            </g>
                        </svg>
                    </div>
                    სერიალები
                </div>
                <div class="mg_cardslider_end">
                    <div class="mg_cardslider_button cnt mg_cardslider_left">
                        <svg width="9" height="16" viewBox="0 0 9 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M0.379685 8.62033L6.79762 15.0383C6.9173 15.158 7.05938 15.2529 7.21575 15.3177C7.37212 15.3824 7.53972 15.4158 7.70897 15.4158C8.05079 15.4158 8.37861 15.28 8.62032 15.0383C8.74 14.9186 8.83493 14.7765 8.8997 14.6201C8.96447 14.4638 8.99781 14.2962 8.99781 14.1269C8.99781 13.7851 8.86202 13.4573 8.62032 13.2156L3.10089 7.70899L8.62032 2.20239C8.74063 2.08306 8.83612 1.9411 8.90128 1.78468C8.96645 1.62826 9 1.46049 9 1.29104C9 1.12159 8.96645 0.953821 8.90128 0.797404C8.83612 0.640987 8.74063 0.499022 8.62032 0.379696C8.50099 0.259387 8.35902 0.163893 8.20261 0.0987262C8.04619 0.0335607 7.87842 1.14093e-05 7.70897 1.14093e-05C7.53952 1.14093e-05 7.37175 0.0335607 7.21533 0.0987262C7.05891 0.163893 6.91695 0.259387 6.79762 0.379696L0.379685 6.79764C0.259376 6.91697 0.163882 7.05893 0.0987154 7.21535C0.0335498 7.37177 5.36442e-07 7.53954 5.36442e-07 7.70899C5.36442e-07 7.87844 0.0335498 8.04621 0.0987154 8.20262C0.163882 8.35904 0.259376 8.50101 0.379685 8.62033Z"
                                fill="var(--main)" />
                        </svg>
                    </div>
                    <div class="mg_cardslider_button cnt mg_cardslider_right">
                        <svg width="9" height="16" viewBox="0 0 9 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M8.62032 6.79544L2.20238 0.377493C2.0827 0.257813 1.94062 0.162878 1.78425 0.0981076C1.62788 0.0333372 1.46028 0 1.29103 0C0.94921 0 0.621387 0.135788 0.379683 0.377493C0.260003 0.497173 0.165067 0.639254 0.100297 0.795623C0.0355269 0.951992 0.00219149 1.11959 0.00219149 1.28884C0.00219149 1.63066 0.137979 1.95848 0.379683 2.20019L5.89911 7.70679L0.379683 13.2134C0.259374 13.3327 0.163883 13.4747 0.0987171 13.6311C0.033551 13.7875 0 13.9553 0 14.1247C0 14.2942 0.033551 14.462 0.0987171 14.6184C0.163883 14.7748 0.259374 14.9167 0.379683 15.0361C0.499009 15.1564 0.640976 15.2519 0.797393 15.317C0.95381 15.3822 1.12158 15.4158 1.29103 15.4158C1.46048 15.4158 1.62825 15.3822 1.78467 15.317C1.94109 15.2519 2.08305 15.1564 2.20238 15.0361L8.62032 8.61813C8.74062 8.49881 8.83612 8.35684 8.90129 8.20042C8.96645 8.04401 9 7.87623 9 7.70679C9 7.53734 8.96645 7.36956 8.90129 7.21315C8.83612 7.05673 8.74062 6.91476 8.62032 6.79544Z"
                                fill="var(--main)" />
                        </svg>
                    </div>
                </div>
            </div>
            <div class="mg_cardslider_row">
                <?php
                if(isset($movies_by_type['series']) && !empty($movies_by_type['series'])) {
                foreach ($movies_by_type['series'] as $data) {
                    echo card($data, $image_starter);
                } 
            } 
                ?>
            </div>
        </div>
        <div class="mg_cardslider">
            <div class="mg_cardslider_info">
                <div class="mg_cardslider_start">
                    <div class="cnt">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                            <path fill="currentColor"
                                d="M8.125 7.092L12 1.937l3.875 5.155l6.138 2.07l-3.94 5.336l.156 6.056L12 18.733l-6.229 1.82l.156-6.08l-3.915-5.311l6.113-2.07Z" />
                        </svg>
                    </div>
                    ანიმაციები
                </div>
                <div class="mg_cardslider_end">
                    <div class="mg_cardslider_button cnt mg_cardslider_left">
                        <svg width="9" height="16" viewBox="0 0 9 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M0.379685 8.62033L6.79762 15.0383C6.9173 15.158 7.05938 15.2529 7.21575 15.3177C7.37212 15.3824 7.53972 15.4158 7.70897 15.4158C8.05079 15.4158 8.37861 15.28 8.62032 15.0383C8.74 14.9186 8.83493 14.7765 8.8997 14.6201C8.96447 14.4638 8.99781 14.2962 8.99781 14.1269C8.99781 13.7851 8.86202 13.4573 8.62032 13.2156L3.10089 7.70899L8.62032 2.20239C8.74063 2.08306 8.83612 1.9411 8.90128 1.78468C8.96645 1.62826 9 1.46049 9 1.29104C9 1.12159 8.96645 0.953821 8.90128 0.797404C8.83612 0.640987 8.74063 0.499022 8.62032 0.379696C8.50099 0.259387 8.35902 0.163893 8.20261 0.0987262C8.04619 0.0335607 7.87842 1.14093e-05 7.70897 1.14093e-05C7.53952 1.14093e-05 7.37175 0.0335607 7.21533 0.0987262C7.05891 0.163893 6.91695 0.259387 6.79762 0.379696L0.379685 6.79764C0.259376 6.91697 0.163882 7.05893 0.0987154 7.21535C0.0335498 7.37177 5.36442e-07 7.53954 5.36442e-07 7.70899C5.36442e-07 7.87844 0.0335498 8.04621 0.0987154 8.20262C0.163882 8.35904 0.259376 8.50101 0.379685 8.62033Z"
                                fill="var(--main)" />
                        </svg>
                    </div>
                    <div class="mg_cardslider_button cnt mg_cardslider_right">
                        <svg width="9" height="16" viewBox="0 0 9 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M8.62032 6.79544L2.20238 0.377493C2.0827 0.257813 1.94062 0.162878 1.78425 0.0981076C1.62788 0.0333372 1.46028 0 1.29103 0C0.94921 0 0.621387 0.135788 0.379683 0.377493C0.260003 0.497173 0.165067 0.639254 0.100297 0.795623C0.0355269 0.951992 0.00219149 1.11959 0.00219149 1.28884C0.00219149 1.63066 0.137979 1.95848 0.379683 2.20019L5.89911 7.70679L0.379683 13.2134C0.259374 13.3327 0.163883 13.4747 0.0987171 13.6311C0.033551 13.7875 0 13.9553 0 14.1247C0 14.2942 0.033551 14.462 0.0987171 14.6184C0.163883 14.7748 0.259374 14.9167 0.379683 15.0361C0.499009 15.1564 0.640976 15.2519 0.797393 15.317C0.95381 15.3822 1.12158 15.4158 1.29103 15.4158C1.46048 15.4158 1.62825 15.3822 1.78467 15.317C1.94109 15.2519 2.08305 15.1564 2.20238 15.0361L8.62032 8.61813C8.74062 8.49881 8.83612 8.35684 8.90129 8.20042C8.96645 8.04401 9 7.87623 9 7.70679C9 7.53734 8.96645 7.36956 8.90129 7.21315C8.83612 7.05673 8.74062 6.91476 8.62032 6.79544Z"
                                fill="var(--main)" />
                        </svg>
                    </div>
                </div>
            </div>
            <div class="mg_cardslider_row">
                <?php 
                    if(isset($movies_by_type['animations']) && !empty($movies_by_type['animations'])) {
                foreach ($movies_by_type['animations'] as $data) {
                    echo card($data, $image_starter);
                } 
            } 
             ?>
            </div>
        </div>
    </div>
    <!-- ახალი -->
    <!-- <div class="mg_news_decor">
      <div class="mg_news_decor_light mg_news_decor_light_top"></div>
      <div class="mg_news_decor_light mg_news_decor_light_bottom"></div> -->
    <!-- <div class="container"> -->

    <!-- </div> -->
    <!-- </div> -->

    <!-- ანიმეები -->
    <!-- <div class="mg_news_decor animes_decor">
      <div class="mg_news_decor_light mg_news_decor_light_top"></div>
      <div class="mg_news_decor_light mg_news_decor_light_bottom"></div>
      <div class="container"> -->

    <!-- </div> -->
    <!-- </div> -->
    <?php include_once "../components/footer.php" ?>
    <?php include_once "../components/endpage.php" ?>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script type="module" src="../ui/mg_engine.js"></script>
    <script src="../assets/engines/nav.js"></script>
    <script src="../assets/engines/mg_cardslider_wide.js"></script>
    <script src="../assets/engines/mg_cardslider.js"></script>
    <script src="../assets/engines/card.js"></script>
</body>

</html>